<app-menu></app-menu>
<div class="component-content">
  <div class="lefthalf">
    <span class="component-title">{{ title }} </span>
  </div>
</div>

<p *ngIf="!user">Loading...</p>

<div *ngIf="user">
  <div class="seperator"></div>
  <main class="single">
    <table class="table table-sm table-borderless" style="table-layout: fixed;">
      <tr>
        <th style="width: 15%;">First Name:</th>
        <td>
          <input
            [(ngModel)]="user.firstName"
            type="text"
            maxlength="20"
            required
          />
        </td>
      </tr>
      <tr>
        <th>Last Name:</th>
        <td>
          <input
            [(ngModel)]="user.lastName"
            type="text"
            maxlength="20"
            required
          />
        </td>
      </tr>
      <tr>
        <th>Username:</th>
        <td>
          <input
            [(ngModel)]="user.userName"
            type="text"
            maxlength="20"
            required
          />
        </td>
      </tr>
      <tr>
        <th>Password:</th>
        <td>
          <input
            [(ngModel)]="user.password"
            type="password"
            maxlength="10"
            required
          />
        </td>
      </tr>
      <tr>
        <th>Phone:</th>
        <td>
          <input
            [(ngModel)]="user.phoneNumber"
            type="text"
            maxlength="12"
            required
          />
        </td>
      </tr>
      <tr>
        <th>Email:</th>
        <td>
          <input
            [(ngModel)]="user.email"
            type="email"
            maxlength="75"
            required
          />
        </td>
      </tr>
      <tr *ngIf="loggedInUser.admin">
        <th>Reviewer:</th>
        <td>
          <input [(ngModel)]="user.reviewer" type="checkbox" />
        </td>
      </tr>
      <tr *ngIf="loggedInUser.admin">
        <th>Admin:</th>
        <td>
          <input [(ngModel)]="user.admin" type="checkbox" />
        </td>
      </tr>
      <tr *ngIf="isEmpty">
        <td colspan="2" style="font-weight: bolder;">
          <button (click)="userEmptyCheck()" class="btn btn-sm btn-danger">
            Ok
          </button>
          Please complete all required fields.
        </td>
      </tr>
      <tr *ngIf="!isEmpty">
        <td colspan="2">
          <button (click)="update()" class="btn btn-sm btn-primary">
            Update
          </button>
          |
          <button (click)="backClicked()" class="btn btn-sm btn-secondary">
            Back
          </button>
        </td>
      </tr>
    </table>
  </main>
</div>
